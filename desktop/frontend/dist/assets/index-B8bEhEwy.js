var D=Object.defineProperty;var G=(e,t,n)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var z=(e,t,n)=>G(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function k(){}function q(e){return e()}function F(){return Object.create(null)}function L(e){e.forEach(q)}function H(e){return typeof e=="function"}function U(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function J(e){return Object.keys(e).length===0}function p(e,t){e.appendChild(t)}function P(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function R(e){return document.createTextNode(e)}function I(){return R(" ")}function V(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function K(e){return Array.from(e.childNodes)}let x;function S(e){x=e}function W(){if(!x)throw new Error("Function called outside component initialization");return x}function Q(e){W().$$.on_mount.push(e)}function X(e){W().$$.on_destroy.push(e)}const y=[],M=[];let b=[];const j=[],Y=Promise.resolve();let C=!1;function Z(){C||(C=!0,Y.then(B))}function T(e){b.push(e)}const A=new Set;let _=0;function B(){if(_!==0)return;const e=x;do{try{for(;_<y.length;){const t=y[_];_++,S(t),ee(t.$$)}}catch(t){throw y.length=0,_=0,t}for(S(null),y.length=0,_=0;M.length;)M.pop()();for(let t=0;t<b.length;t+=1){const n=b[t];A.has(n)||(A.add(n),n())}b.length=0}while(y.length);for(;j.length;)j.pop()();C=!1,A.clear(),S(e)}function ee(e){if(e.fragment!==null){e.update(),L(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}function te(e){const t=[],n=[];b.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),b=t}const ne=new Set;function se(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function ie(e,t,n){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),T(()=>{const l=e.$$.on_mount.map(q).filter(H);e.$$.on_destroy?e.$$.on_destroy.push(...l):L(l),e.$$.on_mount=[]}),i.forEach(T)}function oe(e,t){const n=e.$$;n.fragment!==null&&(te(n.after_update),L(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function le(e,t){e.$$.dirty[0]===-1&&(y.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ae(e,t,n,s,i,l,r=null,c=[-1]){const d=x;S(e);const o=e.$$={fragment:null,ctx:[],props:l,update:k,not_equal:i,bound:F(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:F(),dirty:c,skip_bound:!1,root:t.target||d.$$.root};r&&r(o.root);let g=!1;if(o.ctx=n?n(e,t.props||{},(a,u,...w)=>{const $=w.length?w[0]:u;return o.ctx&&i(o.ctx[a],o.ctx[a]=$)&&(!o.skip_bound&&o.bound[a]&&o.bound[a]($),g&&le(e,a)),u}):[],o.update(),g=!0,L(o.before_update),o.fragment=s?s(o.ctx):!1,t.target){if(t.hydrate){const a=K(t.target);o.fragment&&o.fragment.l(a),a.forEach(O)}else o.fragment&&o.fragment.c();t.intro&&se(e.$$.fragment),ie(e,t.target,t.anchor),B()}S(d)}class re{constructor(){z(this,"$$");z(this,"$$set")}$destroy(){oe(this,1),this.$destroy=k}$on(t,n){if(!H(n))return k;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!J(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ce="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ce);function de(){return window.runtime.WindowGetSize()}function ue(e,t){window.runtime.WindowSetSize(e,t)}function fe(e){let t;return{c(){t=v("span"),t.textContent="☀",f(t,"class","toggle-icon")},m(n,s){P(n,t,s)},d(n){n&&O(t)}}}function pe(e){let t;return{c(){t=v("span"),t.textContent="☾",f(t,"class","toggle-icon")},m(n,s){P(n,t,s)},d(n){n&&O(t)}}}function ve(e){let t,n,s,i,l,r,c,d,o,g,a,u,w;function $(h,N){return h[0]?pe:fe}let E=$(e),m=E(e);return{c(){t=v("div"),n=v("div"),s=v("header"),i=v("div"),i.innerHTML='<div class="brand"><img src="/porter-logo-main.png" alt="Porter"/></div> <div><div class="shell-title">Porter</div> <div class="shell-subtitle">Desktop daemon</div></div>',l=I(),r=v("div"),c=v("button"),m.c(),d=I(),o=v("div"),o.innerHTML='<section class="panel"><div class="task-title">Current Task</div> <div class="task-meta">Add user auth system</div> <div class="task-meta font-mono">porter #42 · opencode</div> <div class="progress"><span></span></div> <div class="progress-label font-mono">65% complete</div> <div class="button-row"><button class="danger">Stop</button> <button>Restart</button> <button class="primary">View in GitHub</button></div> <div class="panel panel-inner" style="margin-top: 20px;"><div class="section-title">Logs</div> <div class="logs"><div class="log-line"><span class="log-time">14:32:01</span> <span class="log-level info">INFO</span> <span>Starting task execution</span></div> <div class="log-line"><span class="log-time">14:32:03</span> <span class="log-level info">INFO</span> <span>Analyzing codebase structure</span></div> <div class="log-line"><span class="log-time">14:32:08</span> <span class="log-level info">INFO</span> <span>Found 23 relevant files</span></div> <div class="log-line"><span class="log-time">14:32:18</span> <span class="log-level success">SUCCESS</span> <span>Created src/auth/provider.ts</span></div></div></div></section> <aside class="panel"><div class="task-title">Metrics</div> <div class="metric-grid"><div class="metric"><div class="value">12</div> <div class="label">Tasks today</div></div> <div class="metric"><div class="value">87%</div> <div class="label">Success</div></div> <div class="metric"><div class="value">8m</div> <div class="label">Avg time</div></div> <div class="metric"><div class="value">4h</div> <div class="label">Uptime</div></div></div> <div class="panel panel-inner" style="margin-top: 20px;"><div class="section-title">Queue (1)</div> <div class="queue"><div class="queue-row"><span class="status-dot idle"></span> <span>Fix memory leak · churn #128</span></div></div></div> <div class="panel panel-inner" style="margin-top: 20px;"><div class="section-title">Agents</div> <div class="queue"><div class="agent-row"><span class="status-dot"></span> <span>opencode · Active</span></div> <div class="agent-row"><span class="status-dot idle"></span> <span>cursor · Idle</span></div></div></div></aside>',g=I(),a=v("div"),a.innerHTML='<div class="status-group"><span class="status-dot"></span> <span>Connected</span></div> <span class="font-mono">ws://localhost:3000</span> <span class="font-mono">4h uptime</span>',f(i,"class","header-left"),f(c,"class","toggle"),f(c,"type","button"),f(c,"aria-label","Toggle theme"),f(r,"class","header-actions"),f(s,"class","shell-header"),f(o,"class","shell-body"),f(a,"class","status-bar"),f(n,"class","shell"),f(t,"class","app")},m(h,N){P(h,t,N),p(t,n),p(n,s),p(s,i),p(s,l),p(s,r),p(r,c),m.m(c,null),p(n,d),p(n,o),p(n,g),p(n,a),u||(w=V(c,"click",e[1]),u=!0)},p(h,[N]){E!==(E=$(h))&&(m.d(1),m=E(h),m&&(m.c(),m.m(c,null)))},i:k,o:k,d(h){h&&O(t),m.d(),u=!1,w()}}}function ge(e,t,n){let s=!0;const i=()=>{document.body.classList.toggle("light",!s),document.documentElement.classList.toggle("light",!s)},l=()=>{typeof localStorage>"u"||localStorage.setItem("porter-theme",s?"dark":"light")},r=()=>{if(typeof localStorage>"u"){i();return}localStorage.getItem("porter-theme")==="light"&&n(0,s=!1),i()},c=()=>{n(0,s=!s),i(),l()};let d=null;return Q(()=>{r();const o=async()=>{if(typeof localStorage>"u")return;const a=localStorage.getItem("porter-window-size");if(a)try{const u=JSON.parse(a);u&&u.width&&u.height&&await ue(u.width,u.height)}catch{}},g=async()=>{if(typeof localStorage>"u")return;const a=await de();localStorage.setItem("porter-window-size",JSON.stringify(a))};o(),window.addEventListener("resize",g),d=()=>window.removeEventListener("resize",g)}),X(()=>{d==null||d()}),[s,c]}class me extends re{constructor(t){super(),ae(this,t,ge,ve,U,{})}}new me({target:document.getElementById("app")});
